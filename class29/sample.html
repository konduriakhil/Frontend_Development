<!DOCTYPE html>
<html lang="en">
<head>
    <title>Form Events</title>
    <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
    <div class="container">
        <h1>Register</h1>
        <form action="" method="post" onsubmit="validateform() ; return false;">
            <div class="formgroup">
                <label id ='uname_label'>UserName</label>
                <input type="text" name="uname" id="uname" class="formcontrol" onfocus="hideError(this)" onblur="checkError(this)"/>
                <small class="error" id="uname_error"></small>
            </div>
            <div class="formgroup">
                <label id="email_label">Email</label>
                <input type="text" name="email" id="email" class="formcontrol" onfocus="hideError(this)" onblur="checkError(this)"/>
                <small class="error" id="email_error"></small>
            </div>
            <div class="formgroup">
                <label id="password_label">Passowrd</label>
                <input type="text" name="password" id="password" class="formcontrol" onfocus="hideError(this)" onblur="checkError(this)"/>
                <small class="error" id="password_error"></small>
            </div>
            <div class="formgroup">
                <label id="state">state</label>
                <select id="state" name="state" class="formcontrol" onchange="getDistricts(this)">
                    <option value="">--select state--</option>
                    <option value="Telangana">Telangana</option>
                    <option value="AndhraPradesh">AndhraPradesh</option>
                </select>
                <small class="error" id="state"></small>
            </div>
            <div class="formgroup">
                <input type="submit" value="Register" class="btn"/>
            </div>
        </form>
    </div>
    <script>
        const validateform=()=>{
            event.preventDefault();
            var uname= document.getElementById('uname')
            var email= document.getElementById('email')
            var password= document.getElementById('password')


            if(uname.value === ''){
                uname.style.cssText = 'border: 2px solid red';
                document.getElementById('uname_error').innerHTML='username is required'
            }
            if(email.value === ''){
                email.style.cssText = 'border: 2px solid red';
                document.getElementById('email_error').innerHTML='email is required'
            }
            if(password.value === ''){
                email.style.cssText = 'border: 2px solid red';
                document.getElementById('password_error').innerHTML='password is required'
            }
        }
        const getLabel = (ele)=>{
            return document.getElementById(ele.id+'_label').innerText;
        }

        const getError =(ele)=>{
            return document.getElementById(ele.id+'_error').innerText;

        }

        const hideError=(ele)=>{
            ele.style.cssText='border: 2px solid #333'
            document.getElementById(ele.id+'_error').innerHTML = ''
        }
        const checkError=(ele)=>{
            if(ele.value=== '')
            {
                ele.style.cssText='border: 2px solid red';
                document.getElementById(ele.id+'_error').innerHTML = getLabel(ele)+' is Required'
            }
        }
        const getDistricts=(ele)=>{
            alert('selected state:'+ ele.value)
        }
    </script>
</body>
</html>